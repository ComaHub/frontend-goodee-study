<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
  <ul id="one" class="level-1">
    <li class="item-i">I</li>
    <li id="ii" class="item-ii">II
      <ul class="level-2">
        <li class="item-a">A</li>
        <li class="item-b">B
          <ul class="level-3">
            <li class="item-1">1</li>
            <li class="item-2">2</li>
            <li class="item-3">3</li>
          </ul>
        </li>
        <li class="item-c">C</li>
      </ul>
    </li>
    <li class="item-iii">III</li>
  </ul>

  <script>
    // 제이쿼리 탐색 참고: https://api.jquery.com/category/traversing/

    // 1) find(): 현재 선택된 요소 내 모든 자손 요소 중 일치하는 요소 탐색
    // $("li.item-ii").find("li").css("background-color", "skyblue");

    // 2) parent(): 직접 부모 요소 하나 선택(한 단계 위의 부모만 찾음)
    // $("li.item-a").parent().css("background-color", "skyblue");

    // 3) closest(): 가장 가까운 상위 요소 중 selector와 일치하는 조상을 찾음
    // 용례) 버튼 클릭 또는 그 버튼이 속한 div요소만 찾아서 조작
    // $("li.item-a").closest("ul").css("background-color", "skyblue");
    // $("li.item-a").closest("li").css("background-color", "skyblue"); // 자기 자신 포함

    // 4) children(): 직계 자식 요소 선택 (모든 하위 요소가 아닌 바로 아래 자식만)
    // $("ul.level-2").children().css("background-color", "skyblue");

  </script>

  <hr>

  <ul id="two">
    <li>list item 1</li>
    <li>list item 2</li>
    <li class="third-item">list item 3</li>
    <li>list item 4</li>
    <li>list item 5</li>
    <li>list item 6</li>
  </ul>

  <script>
    // 5) first(): 선택된 요소 집합 중 첫 번째 요소만 선택
    // $("#two li").first().css("background-color", "skyblue");

    // 6) last(): 선택된 요소 집합 중 마지막 요소만 선택
    // $("#two li").last().css("background-color", "skyblue");

    // 7) eq(): 선택된 요소 집합 중 지정한 인덱스의 요소만 선택
    // $("#two li").eq(2).css("background-color", "skyblue");

    // 8) filter(): 조건에 맞는 요소만 선택
    // 주의!) jQuery의 index는 0이 아니라 1부터 시작함
    // $("#two li").filter(":nth-child(2n)").css("background-color", "skyblue");

    // 9) siblings(): 같은 부모를 공유하는 형제 요소를 모두 선택 (자신 빼고)
    // 사용례) 메뉴, 탭전환 등의 기능에서 .addClass()와 .removeClass()와의 조합용으로 자주 쓰임
    // $("li.third-item").siblings().css("background-color", "skyblue");

    // 10) next(): 현재 요소의 다음 형제 요소 하나 선택 (All은 전부)
    // $("li.third-item").next().css("background-color", "skyblue");
    // $("li.third-item").nextAll().css("background-color", "skyblue");

    // 10) prev(): 현재 요소의 이전 형제 요소 하나 선택 (All은 전부)
    // $("li.third-item").prev().css("background-color", "skyblue");
    // $("li.third-item").prevAll().css("background-color", "skyblue");
  </script>

  <hr>

  <ul class="first">
    <li class="foo">list item 1</li>
    <li>list item 2</li>
    <li class="bar">list item 3</li>
  </ul>
  <ul class="second">
    <li class="foo">list item 1</li>
    <li>list item 2</li>
    <li class="bar">list item 3</li>
  </ul>

  <script>
    // 12) end(): 바로 이전 선택 상태로 돌아감
    // $("ul.first").find(".foo").css("background-color", "skyblue").end().find(".bar").css("background-color", "lime");
    // 여러 조작을 Chaining해야할 경우 유리 (but 너무 복잡한 Chaining은 가독성이 떨어짐)
    // 단순 구조에서는 직접 선택이 깔끔
    $("ul.first .foo").css("background-color", "skyblue");
    $("ul.first .bar").css("background-color", "lime");
  </script>
</body>

</html>